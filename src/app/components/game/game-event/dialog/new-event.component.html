<h1 mat-dialog-title>Ajouter un événement</h1>
<div mat-dialog-content class="container" *ngIf="!post; else forminfo" novalidate>
    <form [formGroup]="formGroup" (ngSubmit)="onSubmit(formGroup.value)" class="form">

        <mat-form-field class="form-element">
            <input matInput placeholder="Titre" matTextareaAutosize matAutosizeMinRows="2" matAutosizeMaxRows="5" formControlName="title" />
            <mat-error *ngIf="!formGroup.controls['title'].valid && formGroup.controls['title'].touched">
                2 caractères min / 75 caractères max
            </mat-error>
        </mat-form-field>

        <mat-form-field class="form-element">
            <textarea matInput placeholder="Description" matTextareaAutosize matAutosizeMinRows="2" matAutosizeMaxRows="5" formControlName="description"></textarea>
            <mat-error *ngIf="!formGroup.controls['description'].valid && formGroup.controls['description'].touched">
                10 caractère min / 150 caractère max
            </mat-error>
        </mat-form-field>

        <mat-form-field class="form-element">
            <input matInput type="number" placeholder="Nombre de joueur max" matTextareaAutosize matAutosizeMinRows="2" matAutosizeMaxRows="5" formControlName="max_nb_player" />
            <mat-error *ngIf="!formGroup.controls['max_nb_player'].valid && formGroup.controls['max_nb_player'].touched">
                Saisir un nombre de joueur max
            </mat-error>
        </mat-form-field>

        <mat-form-field class="form-element">
            <input matInput type="datetime-local" placeholder="Date de début" [min]="minDate" [value]="minDate" matTextareaAutosize matAutosizeMinRows="2" matAutosizeMaxRows="5" formControlName="startEvent" />
            <mat-error *ngIf="!formGroup.controls['max_nb_player'].valid && formGroup.controls['max_nb_player'].touched">
                {{titleAlert}}
            </mat-error>
        </mat-form-field>
        <mat-form-field class="form-element">
            <input matInput type="datetime-local" placeholder="Date de fin" [min]="minDateForMax" [value]="minDateForMax" matTextareaAutosize matAutosizeMinRows="2" matAutosizeMaxRows="5" formControlName="endEvent" />
            <mat-error *ngIf="!formGroup.controls['max_nb_player'].valid && formGroup.controls['max_nb_player'].touched">
                {{titleAlert}}
            </mat-error>
        </mat-form-field>

        <div class="form-element">
            <button mat-raised-button color="primary" type="submit" class="button" [disabled]="!formGroup.valid">Envoyez l'événement</button>
        </div>
    </form>
</div>

<ng-template #forminfo>
    <div class="container">
        {{ post | json }}
    </div>
</ng-template>